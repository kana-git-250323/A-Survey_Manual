---
uid: 20250403T155619
title: TargetSRX.txt に関する機能
aliases:
  - TargetSRX.txt
summary: 
tags:
  - a_survey
draft: false
source: 
created: 20250403T155619
updated: 20250403T182835
---
# A-SurveyAd Android版：ターゲット切り替えマニュアル

## 対応バージョン
- A-SurveyAd Ver 1.3.8 ～ Ver 4.2.8  
- 最終仕様：Ver 4.2.8（2023年4月）

---

## 概要

A-SurveyAd（Android版）では、**測距モードと連動してターゲットを切り替える**ことができます。
使用するターゲットに応じて、測距モード（精密／ノンプリ／シート）やFH（プリズム定数）も自動で設定することができます。

---

## 対応測量機
- ソキア・トプコン（モーター機）  
~~（※TS側にターゲットが登録されている必要があります）~~

---

## 1. `TargetSRX.txt` の仕様と記述例

- `TargetSRX.txt` ファイルを使用して、任意のターゲット設定をカスタマイズ可能です。
- `TargetSRX.txt` は、SDカードの `jp.Asurvey` フォルダ直下に配置します。
### 記述フォーマット

`プリズムタイプ,名称,プリズム定数,プリズムの直径,FH（ミラー高）`

```python

# 記述例

0,ﾌﾟﾘｽﾞﾑ,  0,58,0.800
0,ﾌﾟﾘｽﾞﾑ,-30,58,0.000
3,360°, -7,34,1.400
1,ｼｰﾄ,0,30
1,ｼｰﾄ,0,50

```
- 名称は、分かり易くするためのもので、動作そのものには影響しません。
- FHを設定しない場合、直前の値からは変更されません。

###  ターゲットの種類と識別子

| 種別       | 識別コード | 測距モード | 備考        |
| -------- | ----- | ----- | --------- |
| プリズム     | `0`   | 精密／HV | 通常の反射プリズム |
| シートターゲット | `1`   | シート   | 反射シート     |
| 360°プリズム | `3`   | 精密    | 全方向プリズム   |

---

### シートターゲットの切り替え

- `TargetSRX.txt` に `1,ｼｰﾄ,0,30` のように記述することで選択可能。
- 選択時、自動的に「シート」モードになり、**RS30（30mm）** として測距されます。
- 他サイズ（10mm/50mm/90mm）も記述可能。
- TS 側にも同じターゲットを事前登録しておく必要あり。

---

## 2. ターゲット切り替え時の挙動

### プリズムへの切り替え

- `TargetSRX.txt` に FH 値があれば、それが **自動設定** されます。
- ノンプリ → プリズム への切り替え時には、**測距モードが自動で「精密」**に変更されます。

### ノンプリズムから戻るとき

- 4.2.8 以降は、ノンプリからターゲットに戻った時、
    - `TargetSRX.txt` に FH がある → その値が**優先されて適用**
    - FH が記載されていない → ノンプリ前の値に戻る

## 3. 操作手順（概要）

1. 測距画面でターゲットアイコンをタップ
2. `TargetSRX.txt` に記載されたターゲット一覧が表示される
3. 使用したいターゲットを選択
4. 自動的に測距モードと FH（または直径）が設定される
5. **測定**ボタンで測距

---

## 4. 注意点

- `TargetSRX.txt` を編集する際は、**文字コードSift-JIS(')ANSI)**で保存してください。
- 編集後はアプリを再起動するとリストが更新されます。
- ターゲット切り替え後は、TS 側にもターゲットが正しく設定されていることを確認してください。

---

## 参考：測距可能距離（シート）

|シート種別|測距距離目安|
|---|---|
|RS10|5～15m|
|RS30|5～30m|
|RS50|5～40m|
|RS90|5～50m|
